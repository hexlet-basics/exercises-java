Программы, которые мы пишем во время обучения, становятся все сложнее и объемнее. Они все еще очень далеки от реальных программ, где количество строк кода измеряется десятками и сотнями тысяч, но текущая сложность уже способна заставить напрячься людей без опыта.

Начиная с этого урока, мы переходим к одной из самых сложных базовых тем в программировании – **циклам**.

Любые прикладные программы служат очень прагматичным целям. Они помогают управлять сотрудниками, финансами, развлекают в конце концов. Несмотря на различия, все эти программы выполняют заложенные в них алгоритмы, которые очень похожи между собой.

**Алгоритм** — это последовательность действий или инструкций, которая приводит нас к какому-то ожидаемому результату. Это описание подходит под любую программу, но под алгоритмами обычно понимается что-то более специфичное.

Представьте себе, что у нас есть книга и мы хотим найти внутри нее какую-то конкретную фразу. Саму фразу мы помним, но не знаем, на какой она странице. Как найти нужную страницу?

Самый простой и долгий способ — последовательно просматривать книгу до тех пор, пока мы не найдем нужную страницу. В худшем случае придется просмотреть все страницы, но результат мы все равно получим.

Именно этот процесс и называется **алгоритмом**. Он включает в себя перебор страниц и логические проверки, нашли мы фразу или нет. Количество страниц, которое придется посмотреть, заранее неизвестно, но сам процесс просмотра повторяется из раза в раз совершенно одинаковым образом.

Для выполнения повторяющихся действий как раз и нужны циклы. Каждый такой повтор называется **итерацией**.

Допустим, мы хотим написать метод. Он должен выводить на экран все числа от 1 до того числа, которое мы указали через параметры:

```java
App.printNumbers(3);
// 1
// 2
// 3
```

Этот метод невозможно реализовать уже изученными средствами, так как количество выводов на экран заранее неизвестно. А с циклами это не составит никаких проблем:

```java
public static void printNumbers(int lastNumber) {
    // i — это сокращение от index (порядковый номер)
    // Используется по общему соглашению во множестве языков как счетчик цикла
    var i = 1;

    while (i <= lastNumber) {
        System.out.println(i);
        i = i + 1;
    }
    System.out.println("finished!");
}

App.printNumbers(3);
```

<pre class='hexlet-basics-output'>
1
2
3
finished!
</pre>

В коде метода использован цикл `while`. Он состоит из трех элементов:

* **Ключевое слово** `while`. Несмотря на схожесть с вызовом методов, это не вызов метода
* **Предикат** — условие, которое указывается в скобках после `while` и вычисляется на каждой итерации
* **Тело цикла** — блок кода в фигурных скобках, аналогичный блоку кода в методе. Все константы или переменные, определенные внутри этого блока, будут видны только внутри этого блока

Конструкция читается так: «делать то, что указано в теле цикла, пока истинно условие `i <= lastNumber`». Разберем работу этого кода для вызова `App.printNumbers(3)`:

```java
// Инициализируется i
var i = 1;

// Предикат возвращает true, поэтому выполняется тело цикла
while (1 <= 3)
// System.out.println(1);
// i = 1 + 1;

// Закончилось тело цикла, поэтому происходит возврат в начало
while (2 <= 3)
// System.out.println(2);
// i = 2 + 1;

// Закончилось тело цикла, поэтому происходит возврат в начало
while (3 <= 3)
// System.out.println(3);
// i = 3 + 1;

// Предикат возвращает false, поэтому выполнение переходит за цикл
while (4 <= 3)

// System.out.println("finished!");
// На этом этапе i равен 4, но он нам уже не нужен
// Метод завершается
```

Самое главное в цикле — завершение его работы, то есть **выход из цикла**. Процесс, который порождает цикл, должен в конце концов остановиться. Ответственность за остановку полностью лежит на программисте.

Обычно задача сводится к введению переменной, называемой **счетчиком цикла**. Он работает по такому принципу:

* Сначала счетчик инициализируется, то есть ему задается начальное значение. В примере выше счетчик — это инструкция `var i = 1`, выполняемая до входа в цикл
* Затем в условии цикла проверяется, достиг ли счетчик своего предельного значения.
* В итоге счетчик меняет свое значение `i = i + 1`

На этом моменте новички делают больше всего ошибок. Представим, что в коде неправильно написана проверка в предикате. Это может привести к **зацикливанию** — ситуация, при которой цикл работает бесконечно и программа никогда не останавливается.

В таком случае приходится ее завершать принудительно:

```java
public static void printNumbers(int lastNumber) {
    var i = 1;

    // Этот цикл никогда не остановится
    // и будет печатать всегда одно значение
    while (i <= lastNumber) {
        System.out.println(i);
    }
    System.out.println("finished!");
}
```

В некоторых случаях бесконечные циклы полезны. Здесь мы такие случаи не рассматриваем, но полезно увидеть, как выглядит этот код:

```java
while (true) {
    // Что-то делаем
}
```

Подведем итог. Когда все же нужны циклы, а когда можно обойтись без них? Невозможно обойтись без циклов тогда, когда алгоритм решения задачи требует повторения каких-то действий, при этом количество этих операций заранее неизвестно. Так и было в примере с книгой, который мы рассматривали в начале урока.
