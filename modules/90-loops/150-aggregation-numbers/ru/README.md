В программировании есть отдельный класс задач, который не может обойтись без циклов — он называется **агрегированием данных**.

К таким задачам относятся поиск:

* Максимального значения
* Минимального значения
* Суммы
* Среднего арифметического

Их главная особенность в том, что результат зависит от всего набора данных. Для расчета суммы нужно сложить **все** числа, для вычисления максимального нужно сравнить **все** числа.

С этой темой хорошо знакомы все, кто занимаются числами. Например, с такими задачами часто работают бухгалтеры или маркетологи в таблицах наподобие Microsoft Excel или Google Sheets.

Разберем самый простой пример — поиск суммы набора чисел. Реализуем функцию, которая складывает числа в указанном диапазоне, включая границы.

В этом случае **диапазоном** называется ряд чисел от какого-то начала до определенного конца. Например, диапазон `[1, 10]` включает в себя все целые числа от 1 до 10:

```java
App.sumNumbersFromRange(5, 7); // 5 + 6 + 7 = 18
App.sumNumbersFromRange(1, 2); // 1 + 2 = 3

// Диапазон [1, 1] с одинаковым началом и концом – тоже диапазон
// Он включает одно число — саму границу диапазона
App.sumNumbersFromRange(1, 1); // 1
App.sumNumbersFromRange(100, 100); // 100
```

Для реализации этого кода нам понадобится цикл. Мы выбираем именно цикл, потому что сложение чисел – это итеративный процесс. Он повторяется для каждого числа, а количество итераций зависит от размера диапазона.

Чтобы лучше понять тему, попробуйте ответить на вопросы:

* Каким значением инициализировать счетчик?
* Как он будет изменяться?
* Когда цикл должен остановиться?

А теперь посмотрите код ниже:

```java
public static int sumNumbersFromRange(int start, int finish) {
    // Технически можно менять start, но входные аргументы нужно оставлять в исходном значении
    // Это сделает код проще для анализа
    var i = start;
    var sum = 0; // Инициализация суммы

    while (i <= finish) { // Двигаемся до конца диапазона
        sum = sum + i; // Считаем сумму для каждого числа
        i = i + 1; // Переходим к следующему числу в диапазоне
    }

    // Возвращаем получившийся результат
    return sum;
}
```

Общая структура цикла здесь стандартна:

* Счетчик, который инициализируется начальным значением диапазона
* Сам цикл с условием остановки при достижении конца диапазона
* Изменение счетчика в конце тела цикла

Количество итераций в таком цикле равно `finish - start + 1`. Например, нужно 3 итерации, чтобы посчитать диапазон от 5 до 7:

```md
7 - 5 + 1 = 3
```

Главные отличия от обычной обработки связаны с логикой вычислений результата. В задачах на агрегацию всегда есть какая-то переменная, которая хранит внутри себя результат работы цикла. В коде выше это `sum`.

На каждой итерации цикла происходит ее изменение, прибавление следующего числа в диапазоне: `sum = sum + i`. Весь процесс выглядит так:

```java
// Для вызова sumNumbersFromRange(2, 5);
var sum = 0;
sum = sum + 2; // 2
sum = sum + 3; // 5
sum = sum + 4; // 9
sum = sum + 5; // 14
// 14 – результат сложения чисел в диапазоне [2, 5]
```

В математике существует понятие **нейтральный элемент операции**. Операция с таким элементом не изменяет то значение, над которым проводится операция:

* В сложении любое число плюс ноль дает само число
* При вычитании – то же самое
* Даже у конкатенации есть нейтральный элемент – это пустая строка: `"" + "one"` будет `"one"`
